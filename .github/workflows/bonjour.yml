name: Bonjour
on:
  - push
  - pull_request
jobs:
  dire_bonjour:
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout
        uses: actions/checkout@v3
    
      - name: Set up Java
        uses: actions/setup-java@v3
        with:
          distribution: 'zulu'
          java-version: '17.0'
      
      - name: Set up Maven
        uses: stCarolas/setup-maven@v4.5
        with:
          maven-version: 3.8.6
      
      - name: Building the application jar
        run: mvn clean package
      
      - name: Release
        if: contains(github.ref, 'refs/tags/v')
        run: gh release create --latest --title=${{github.ref}} ${{github.ref}} ./menu-server/target/menu-server.jar